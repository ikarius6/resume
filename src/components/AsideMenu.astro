---
import Avatar from '../../public/img/avatar-min.webp'
import { Icon } from 'astro-icon';
import { getLangFromUrl, useTranslations } from '@/i18n/utils';
import { languages } from '@/i18n/ui';

const currentLang = getLangFromUrl(Astro.url);
const t = useTranslations(currentLang);
---

<article class="lg:sticky lg:top-4 flex flex-col items-center text-zinc-400">
    <div role="img" aria-label="background image" id="background" class="hidden lg:block flex-row h-[50vh] w-full min-h-[200px]"></div>
    <div id="info" class="flex flex-col lg:h-[50vh] w-full items-center justify-around relative">
      <picture id="avatar" class="lg:block mt-4 lg:absolute lg:top-0 lg:mt-[-4.5rem]">
        <img alt="Alex Omar avatar" class="w-36 h-36 p-1 rounded-full ring-2 ring-gray-300 dark:ring-gray-500" src={Avatar.src}>
      </picture>
      <div class="my-4 lg:mt-[5.5rem] text-center flex flex-col items-center flex-1">
        <h1 class="text-4xl font-bold p-2"><span class="text-transparent bg-clip-text bg-gradient-to-r to-emerald-600 from-sky-400">Alex Omar</span></h1>
        <h2 class="text-xl p-2">
          { t('profession') }
        </h2>
        <ul class="flex">
          {
            Object.entries(languages).map(([lang, label]) => (
              <li class="mt-4 mx-2">
                <a data-astro-reload class:list={[
                  "hover:text-zinc-200",
                  currentLang != lang || "underline"
                ]} aria-label={label} title={label} href={`/${lang}/`}>{label}</a>
              </li>
            ))
          }
        </ul>
      </div>
      <nav class="p-2 lg:mb-8">
        <ol class="flex flex-row">
          <li class="w-10 m-2"><a target="_blank" aria-label="GitHub" title="GitHub" class="hover:text-zinc-100" href="http://git.alexomar.com/"><Icon name="mdi:github"></Icon></a></li>
          <li class="w-10 m-2"><a target="_blank" aria-label="LinkedIn" title="LinkedIn" class="hover:text-zinc-100" href="https://www.linkedin.com/in/alejandro-olp"><Icon name="mdi:linkedin"></Icon></a></li>
          <li class="w-10 m-2"><a target="_blank" aria-label="Curso de M102: MongoDB for DBAs" title="Curso de M102: MongoDB for DBAs" class="hover:text-zinc-100" href="http://university.mongodb.com/course_completion/31049f069e72406d9e707ee0d273673b"><Icon name="simple-icons:mongodb"></Icon></a></li>
          <li class="w-10 m-2"><a target="_blank" aria-label="Curso de M101P: MongoDB for Developers" title="Curso de M101P: MongoDB for Developers" class="hover:text-zinc-100" href="http://university.mongodb.com/course_completion/31049f069e72406d9e707ee0d273673b"><Icon name="simple-icons:mongodb"></Icon></a></li>
          <li class="w-10 m-2"><a target="_blank" aria-label="Programación Estadística con R" title="Programación Estadística con R" class="hover:text-zinc-100" href="https://www.coursera.org/account/accomplishments/certificate/752DWTJGA5GM"><Icon name="simple-icons:r"></Icon></a></li>
        </ol>
      </nav>
    </div>
</article>

<style>
  #background {
    background-image: url(/img/bg-min.webp);
    background-size: cover;
    background-position: right;
  }
</style>